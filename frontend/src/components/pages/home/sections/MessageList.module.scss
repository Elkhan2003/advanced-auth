/* MessageList.module.scss */
.MessageList {
	.content {
		.header {
			text-align: center;
			color: #e6e0ff;
			margin-bottom: 30px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 10px;

			.newBadge {
				background: #9c27b0;
				color: white;
				padding: 4px 8px;
				border-radius: 12px;
				font-size: 0.8rem;
			}
		}

		.messages {
			background: #2d1b3d;
			border-radius: 10px;
			padding: 20px;
			box-shadow: 0 2px 10px rgba(139, 69, 193, 0.3);
			max-height: 60vh;
			overflow-y: auto;
			margin-bottom: 20px;

			&::-webkit-scrollbar {
				width: 6px;
			}

			&::-webkit-scrollbar-track {
				background: #4a2c5a;
				border-radius: 10px;
			}

			&::-webkit-scrollbar-thumb {
				background: #8b45c1;
				border-radius: 10px;

				&:hover {
					background: #7e3bb7;
				}
			}

			.message {
				margin-bottom: 15px;

				&.own {
					display: flex;
					justify-content: flex-end;

					.messageBubble {
						background: #6a1b9a;
						color: white;
					}
				}

				&.other {
					display: flex;
					justify-content: flex-start;

					.messageBubble {
						background: #4a2c5a;
						color: #e6e0ff;
					}
				}

				.messageBubble {
					max-width: 70%;
					padding: 12px 16px;
					border-radius: 18px;
					transition: transform 0.2s ease;

					&:hover {
						transform: scale(1.02);
					}

					.text {
						margin-bottom: 5px;
						line-height: 1.4;
						word-wrap: break-word;
						white-space: pre-wrap;
					}

					.info {
						display: flex;
						gap: 10px;
						font-size: 0.75rem;
						opacity: 0.7;

						.author {
							font-weight: 500;
						}

						.time {
							color: inherit;
						}
					}
				}
			}
		}

		.messageInput {
			background: #2d1b3d;
			border-radius: 10px;
			padding: 15px;
			box-shadow: 0 2px 10px rgba(139, 69, 193, 0.3);
			border: 2px solid transparent;
			transition: border-color 0.3s ease;

			&:focus-within {
				border-color: #8b45c1;
			}

			.inputContainer {
				display: flex;
				align-items: flex-end;
				gap: 12px;

				.textarea {
					flex: 1;
					background: #4a2c5a;
					border: 2px solid transparent;
					border-radius: 12px;
					padding: 12px 16px;
					color: #e6e0ff;
					font-size: 16px;
					font-family: inherit;
					line-height: 1.4;
					resize: none;
					min-height: 48px;
					max-height: 120px;
					overflow-y: auto;
					transition: all 0.3s ease;

					&:focus {
						outline: none;
						border-color: #8b45c1;
						background: #5a3c6a;
						box-shadow: 0 0 0 3px rgba(139, 69, 193, 0.1);
					}

					&::placeholder {
						color: #a59bb8;
						opacity: 0.8;
					}

					&::-webkit-scrollbar {
						width: 4px;
					}

					&::-webkit-scrollbar-track {
						background: transparent;
					}

					&::-webkit-scrollbar-thumb {
						background: #8b45c1;
						border-radius: 10px;
					}
				}

				.sendButton {
					background: #6a1b9a;
					border: none;
					border-radius: 12px;
					width: 48px;
					height: 48px;
					display: flex;
					align-items: center;
					justify-content: center;
					color: white;
					cursor: pointer;
					transition: all 0.3s ease;
					flex-shrink: 0;

					&:hover:not(:disabled) {
						background: #7e3bb7;
						transform: translateY(-1px);
						box-shadow: 0 4px 12px rgba(139, 69, 193, 0.4);
					}

					&:active:not(:disabled) {
						transform: translateY(0);
					}

					&:disabled {
						background: #4a2c5a;
						color: #a59bb8;
						cursor: not-allowed;
						opacity: 0.6;
					}

					svg {
						transition: transform 0.2s ease;
					}

					&:hover:not(:disabled) svg {
						transform: translateX(2px);
					}
				}
			}

			.messageInfo {
				display: flex;
				justify-content: flex-end;
				margin-top: 8px;

				.charCount {
					font-size: 0.75rem;
					color: #a59bb8;
					opacity: 0.7;

					&.warning {
						color: #ff9800;
					}

					&.danger {
						color: #f44336;
					}
				}
			}
		}
	}

	// Responsive design
	@media (max-width: 768px) {
		.content {
			.messages {
				max-height: 50vh;
				padding: 15px;
			}

			.messageInput {
				padding: 12px;

				.inputContainer {
					gap: 8px;

					.textarea {
						font-size: 16px; // Prevents zoom on iOS
					}

					.sendButton {
						width: 44px;
						height: 44px;
					}
				}
			}
		}
	}

	// Animation for new messages
	@keyframes slideIn {
		from {
			opacity: 0;
			transform: translateY(10px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.message {
		animation: slideIn 0.3s ease-out;
	}
}
